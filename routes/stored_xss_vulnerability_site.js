
const express = require('express');
const router = express.Router();

// Simulated in-memory database
let posts = [];

router.use(express.urlencoded({ extended: true }));

router.get('/', (req, res) => {
  res.render('stored_xss_vulnerability_site', { posts: posts });
});

router.post('/', (req, res) => {
  const content = req.body.content;
  posts.push(content);
  res.redirect('/stored_xss');
});

module.exports = router;
